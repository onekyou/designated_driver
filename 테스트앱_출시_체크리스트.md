# 테스트 앱 출시 체크리스트

## 🔴 긴급 수정 필요 사항

### 1. **보안 및 권한 문제**

#### Call Detector 앱
- [ ] `android:usesCleartextTraffic="true"` 제거 (보안 위험)
- [ ] 런타임 권한 요청 구현 확인
  - READ_PHONE_STATE
  - READ_CALL_LOG
  - READ_CONTACTS
  - POST_NOTIFICATIONS (Android 13+)

#### Call Manager 앱
- [ ] 위치 권한 사용 목적 명확화 필요
- [ ] Agora SDK 권한 (RECORD_AUDIO) 사용 시나리오 확인

#### Driver App
- [ ] RECEIVE_BOOT_COMPLETED 권한 추가
- [ ] BootReceiver 구현 필요

### 2. **Firebase 보안 규칙**
- [ ] 임시 디버깅용 규칙 제거
  ```
  // ★★★ 임시 디버깅용 - 로그인된 사용자는 모든 기사 문서 읽기 허용 ★★★
  match /{path=**}/designated_drivers/{docId} {
    allow read: if isAuthenticated();
  }
  ```
- [ ] 프로덕션용 보안 규칙 적용

### 3. **빌드 설정**
- [ ] 모든 앱의 minifyEnabled를 true로 설정
- [ ] ProGuard 규칙 추가 (Firebase, Compose 등)
- [ ] 릴리즈 키 생성 및 서명 설정
- [ ] versionCode, versionName 업데이트

## 🟡 중요 확인 사항

### 4. **백그라운드 실행 최적화**
- [ ] 배터리 최적화 예외 요청 다이얼로그 구현
- [ ] Android 12+ 백그라운드 실행 제한 대응
- [ ] Doze 모드 대응 코드 추가

### 5. **에러 처리 및 크래시 방지**
- [ ] 전역 예외 처리기 추가
- [ ] Firebase Crashlytics 통합
- [ ] 네트워크 오류 처리 강화
- [ ] Firestore 오프라인 모드 대응

### 6. **UI/UX 개선**
- [ ] 첫 실행 시 권한 요청 가이드
- [ ] 로딩 상태 표시
- [ ] 오류 메시지 사용자 친화적으로 개선
- [ ] 빈 상태 화면 디자인

### 7. **FCM 알림**
- [ ] FCM 토큰 갱신 로직 확인
- [ ] 알림 채널 설정 (Android 8+)
- [ ] 알림 클릭 시 적절한 화면 이동

## 🟢 테스트 시나리오

### 기본 기능 테스트
1. [ ] 전화 수신 → Firebase 저장 확인
2. [ ] 콜 배차 → 기사 알림 확인
3. [ ] 운행 완료 → 정산 확인
4. [ ] 공유 콜 생성 및 수락
5. [ ] 포인트 충전 및 차감

### 엣지 케이스 테스트
1. [ ] 네트워크 끊김 상태에서 동작
2. [ ] 앱 강제 종료 후 재시작
3. [ ] 배터리 세이버 모드에서 동작
4. [ ] 다중 사용자 동시 접속
5. [ ] 잘못된 데이터 입력

### 디바이스 호환성
1. [ ] Android 7.0 (API 24) ~ Android 14 (API 34)
2. [ ] 다양한 화면 크기
3. [ ] 다크 모드 지원

## 📋 출시 전 최종 확인

### 앱 정보
- [ ] 앱 이름 확정
- [ ] 앱 아이콘 제작 (적응형 아이콘 포함)
- [ ] 스플래시 화면
- [ ] 개인정보처리방침 URL
- [ ] 이용약관 URL

### Google Play Console
- [ ] 앱 설명 작성
- [ ] 스크린샷 준비 (폰/태블릿)
- [ ] 기능 그래픽 제작
- [ ] 콘텐츠 등급 설정
- [ ] 타겟 국가 설정

### 기술적 준비
- [ ] Firebase 프로젝트 프로덕션 설정
- [ ] API 키 보안 (BuildConfig 사용)
- [ ] 로그 제거 (Log.d, Log.v)
- [ ] 테스트 코드 제거

## 🚀 단계별 출시 계획

### Phase 1: 내부 테스트 (1주)
- 개발팀 내부 테스트
- 주요 버그 수정

### Phase 2: 클로즈드 베타 (2주)
- 5-10명 실제 사용자 테스트
- 피드백 수집 및 반영

### Phase 3: 오픈 베타 (2주)
- 50-100명 확대 테스트
- 성능 모니터링

### Phase 4: 정식 출시
- 단계적 출시 (10% → 50% → 100%)
- 실시간 모니터링

## 📝 추가 권장사항

1. **분석 도구 통합**
   - Google Analytics
   - Firebase Analytics
   - 사용자 행동 추적

2. **A/B 테스트 준비**
   - Firebase Remote Config
   - 기능 플래그 구현

3. **사용자 피드백 채널**
   - 인앱 피드백 기능
   - 고객센터 연락처

4. **법적 검토**
   - 위치정보 수집 고지
   - 개인정보 수집 동의
   - 약관 검토